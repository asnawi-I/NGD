<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paper Love Storyy</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Satisfy&family=Kaushan+Script&family=Permanent+Marker&family=Indie+Flower:wght@400&family=Fredoka+One&family=Righteous&family=Caveat:wght@400;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Indie Flower', cursive;
            background: linear-gradient(135deg, #f7f1e3 0%, #e8dcc0 100%);
            min-height: 80vh;
            overflow-x: hidden;
            position: relative;
        }

/* Start screen fixes */
.start-screen {
    text-align: center;
    padding: 40px 20px;
    width: 100%;
    height: 100%;
    position: relative;
    cursor: default !important;
}

.start-screen * {
    pointer-events: none !important;
}

.start-screen .scrapbook-cover,
.start-screen .tap-cta {
    pointer-events: auto;
}

/* Image backgrounds */
.watercolor-bg {
    background-size: cover;
    background-position: center;
    background-blend-mode: overlay;
}

.paper-texture-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-size: cover;
    background-blend-mode: multiply;
    opacity: 0.3;
    pointer-events: none;
}

/* Scene container */
.scene {
    position: absolute;
    width: 100%;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    opacity: 0;
    transform: scale(0.8);
    transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    padding: 20px 10px;
    overflow: visible;
    will-change: transform, opacity;
}

.scene.active {
    opacity: 1;
    transform: scale(1);
}

/* Paper elements */
.paper-element {
    background: #fefefe;
    position: relative;
    box-shadow: 
    0 4px 8px rgba(0,0,0,0.1),
    0 1px 3px rgba(0,0,0,0.08),
    inset 0 0 20px rgba(139, 69, 19, 0.02);
}

.paper-fold {
    background: #fefefe;
    border-radius: 8px;
    position: relative;
    transform-origin: center;
    animation: unfoldPaper 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    opacity: 1;
}

@keyframes unfoldPaper {
    0% {
        opacity: 0;
        transform: perspective(1000px) rotateY(-90deg) scale(0.8);
    }
    50% {
        opacity: 0.7;
        transform: perspective(1000px) rotateY(-45deg) scale(0.9);
    }
    100% {
        opacity: 1;
        transform: perspective(1000px) rotateY(0deg) scale(1);
    }
}

/* Torn paper edges */
.torn-top {
    clip-path: polygon(0% 0%, 5% 2%, 10% 0%, 15% 3%, 20% 1%, 25% 2%, 30% 0%, 35% 3%, 40% 1%, 45% 2%, 50% 0%, 55% 3%, 60% 1%, 65% 2%, 70% 0%, 75% 3%, 80% 1%, 85% 2%, 90% 0%, 95% 3%, 100% 1%, 100% 100%, 0% 100%);
}

.torn-bottom {
    clip-path: polygon(0% 0%, 100% 0%, 100% 97%, 95% 99%, 90% 97%, 85% 100%, 80% 98%, 75% 99%, 70% 97%, 65% 100%, 60% 98%, 55% 99%, 50% 97%, 45% 100%, 40% 98%, 35% 99%, 30% 97%, 25% 100%, 20% 98%, 15% 99%, 10% 97%, 5% 100%, 0% 98%);
}

.torn-right {
    clip-path: polygon(0% 0%, 98% 0%, 100% 5%, 98% 10%, 100% 15%, 97% 20%, 100% 25%, 98% 30%, 100% 35%, 97% 40%, 100% 45%, 98% 50%, 100% 55%, 97% 60%, 100% 65%, 98% 70%, 100% 75%, 97% 80%, 100% 85%, 98% 90%, 100% 95%, 97% 100%, 0% 100%);
}

/* Scrapbook cover */
.scrapbook-cover {
    width: 300px;
    height: 400px;
    background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
    border-radius: 15px;
    position: relative;
    box-shadow: 
    0 10px 25px rgba(0,0,0,0.3),
    inset 0 1px 0 rgba(255,255,255,0.2);
    animation: bookFloat 4s ease-in-out infinite;
}

@keyframes bookFloat {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-10px) rotate(1deg); }
}

.cover-title {
    position: absolute;
    top: 65%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-family: 'Kaushan Script', cursive;
    font-size: 2.2rem;
    font-weight: 400;
    color: #f7f1e3;
    text-align: center;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    line-height: 1.5;
}

.cover-decoration {
    position: absolute;
    width: 60px;
    height: 60px;
    border: 3px solid #f7f1e3;
    border-radius: 50%;
    top: 20px;
    right: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    animation: decorationSpin 8s linear infinite;
}

@keyframes decorationSpin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.tap-cta {
    margin-top: 40px;
    padding: 20px 40px;
    border: 2px solid rgba(139, 69, 19, 0.5);
    border-radius: 50px;
    background: rgba(139, 69, 19, 0.1);
    backdrop-filter: blur(10px);
    font-size: 1.1rem;
    cursor: default;
    color: #8B4513;
    font-weight: 600;
    transition: all 0.3s ease;
    touch-action: manipulation;
}


.tap-cta:hover {
    background: rgba(233, 30, 99, 0.2);
    transform: scale(1.15);
    box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4);
}

/* Confetti */
.confetti {
    position: fixed;
    width: 10px;
    height: 10px;
    background: #e91e63;
    animation: confettiFall 3s linear infinite;
    pointer-events: none;
    z-index: 1000;
}

@keyframes confettiFall {
    0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
}

/* Flying cats */
.flying-cat {
    position: fixed;
    width: 100px;
    height: 80px;
    background-image: url('assets/single-images/flying-cat.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    z-index: 1500;
    pointer-events: none;
}

.flying-right {
    animation: flyRight 6s linear infinite;
}

.flying-left {
    animation: flyLeft 6s linear infinite;
}

@keyframes flyRight {
    0% { 
        left: -120px; 
        top: var(--fly-top);
        transform: scaleX(1);
    }
    100% { 
        left: calc(100vw + 120px); 
        top: var(--fly-top);
        transform: scaleX(1);
    }
}

@keyframes flyLeft {
    0% { 
        right: -120px; 
        top: var(--fly-top);
        transform: scaleX(-1);
    }
    100% { 
        right: calc(100vw + 120px); 
        top: var(--fly-top);
        transform: scaleX(-1);
    }
}

/* Title card */
.title-card {
    width: 320px;
    padding: 40px 30px;
    text-align: center;
    animation-delay: 0.5s;
}

.magazine-title {
    font-family: 'Fredoka One', cursive;
    font-size: 2.8rem;
    font-weight: 400;
    color: #e91e63;
    text-shadow: 3px 3px 0px #9c27b0, 6px 6px 0px #673ab7;
    line-height: 0.9;
    margin-bottom: 20px;
}



.subtitle-cutout {
    font-size: 1.2rem;
    color: #6f42c1;
    background: #fff3cd;
    padding: 10px 15px;
    border-radius: 15px;
    display: inline-block;
    box-shadow: 3px 3px 0px #fd7e14;
}



/* Cat layers */
.cat-layers {
    position: relative;
    width: 450px !important;
    height: 350px !important;
    animation-delay: 0.3s;
}

.cat-layer1 {
    top: 10px;
    left: 10px;
    width: 200px;
    height: 140px;
    background: #ffe6f2;
    animation-delay: 1s;
    transform: rotate(-3deg);
    z-index: 3;
}

.cat-layer2 {
    top: 10px;
    right: 10px;
    width: 200px;
    height: 140px;
    background: #e6f3ff;
    animation-delay: 1.3s;
    transform: rotate(2deg);
    z-index: 2;
}

.cat-layer3 {
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%) rotate(-1deg);
    width: 200px;
    height: 140px;
    background: #f0ffe6;
    animation-delay: 1.6s;
    z-index: 1;
}

.cat-layer {
    position: absolute;
    background: #fefefe;
    border-radius: 20px;
    padding: 20px;
    text-align: center;
    font-size: 1rem;
    font-weight: 600;
    color: #8B4513;
    animation: layerPop 0.8s ease-out forwards;
    opacity: 0;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    line-height: 1.3;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.cat-image {
    background-image: url('assets/single-images/cat.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 35px !important;
    height: 35px !important;
    margin: 5px auto !important;
}

@keyframes layerPop {
    0% { opacity: 0; }
    100% { opacity: 1; }
}


@keyframes pieceSlide {
    0% {
        opacity: 0;
    }
    100% {
        opacity: 1;
        transform: translateX(0) translateY(0) rotate(var(--final-rotation, 0deg));
    }
}

.cat-art {
    margin: 5px 0;
}

/* Capybara craft */
.capybara-craft {
    width: 400px;
    padding: 40px;
    text-align: center;
    background: linear-gradient(135deg, #d4a574 0%, #e8dcc0 100%);
    animation-delay: 0.4s;
}

.capybara-title {
    font-family: 'Permanent Marker', cursive;
    font-size: 2rem;
    color: #8B4513;
    margin-bottom: 20px;
}


.zen-message {
    font-size: 1.1rem;
    line-height: 1.6;
    color: #5d4e37;
    background: rgba(255,255,255,0.7);
    padding: 20px;
    border-radius: 15px;
    margin: 15px 0;
    animation: messageFloat 4s ease-in-out infinite;
    font-weight: 600;
}

@keyframes messageFloat {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-3px) rotate(0.5deg); }
}

/* Matcha collage */
.matcha-collage {
    width: 470px !important;
    height: 370px !important;
    position: relative;
    animation-delay: 0.6s;
}

.piece1, .piece2, .piece3, .piece4 {
    position: absolute;
    width: 220px;
    height: 160px;
    background: #c8e6c9;
    padding: 20px;
    border-radius: 12px;
    font-size: 1rem;
    color: #2e7d32;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    animation: pieceSlide 1s ease-out forwards;
    opacity: 0;
    line-height: 1.3;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
}

.piece1 {
    top: 10px;
    left: 10px;
    animation-delay: 1.2s;
    transform: translateX(-100px) rotate(-5deg);
}

.piece2 {
    top: 10px;
    right: 10px;
    background: #fff3e0;
    color: #e65100;
    animation-delay: 1.5s;
    transform: translateX(100px) rotate(3deg);
}

.piece3 {
    bottom: 10px;
    left: 10px;
    background: #f3e5f5;
    color: #7b1fa2;
    animation-delay: 1.8s;
    transform: translateY(100px) rotate(-2deg);
}

.piece4 {
    bottom: 10px;
    right: 10px;
    background: #e8f5e8;
    color: #388e3c;
    animation-delay: 2.1s;
    transform: translateY(100px) rotate(4deg);
}

.matcha-image {
    background-image: url('assets/single-images/matcha.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 60px !important;
    height: 60px !important;
    margin: 5px auto !important;
}


/* Love letter */
.love-letter {
    width: 450px;
    background: #fefefe;
    padding: 50px 40px;
    border-radius: 0;
    position: relative;
    animation-delay: 0.7s;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.love-letter::before {
    content: '';
    position: absolute;
    top: -5px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 20px;
    background: #ffc107;
    border-radius: 0 0 10px 10px;
}

.letter-content {
    font-family: 'Satisfy', cursive;
    font-size: 1.4rem;
    line-height: 1.6;
    color: #8B4513;
    text-align: center;
    font-weight: 600;
}

.signature {
    margin-top: 30px;
    font-size: 1.8rem;
    color: #d63384;
}


/* Navigation dots */
.nav-dots {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 12px;
    z-index: 100;
}

.dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(139, 69, 19, 0.3);
    transition: all 0.3s ease;
    cursor: pointer;
}

.dot.active {
    background: #8B4513;
    transform: scale(1.2);
}


@keyframes hintFade {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 1; }
}

/* Paper crumbs */
.paper-crumb {
    position: fixed;
    width: 3px;
    height: 3px;
    background: #d4a574;
    border-radius: 50%;
    opacity: 1;
    animation: crumbFall 8s linear infinite;
    pointer-events: none;
}

@keyframes crumbFall {
    0% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.6;
    }
    90% {
        opacity: 0.6;
    }
    100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
    }
}

/* Craft decorations */
.washi-tape {
    position: absolute;
    background: linear-gradient(45deg, #ff6b9d 25%, #c44569 25%, #c44569 50%, #ff6b9d 50%, #ff6b9d 75%, #c44569 75%);
    background-size: 8px 8px;
    opacity: 0.8;
    border-radius: 2px;
}

.washi-vertical {
    width: 15px;
    height: 60px;
    top: 20px;
    right: -5px;
    transform: rotate(15deg);
}

.washi-horizontal {
    width: 80px;
    height: 12px;
    bottom: 15px;
    left: 20px;
    transform: rotate(-8deg);
}

.paper-clip {
    position: absolute;
    width: 20px;
    height: 35px;
    border: 2px solid #silver;
    border-radius: 8px 8px 2px 2px;
    top: -15px;
    right: 30px;
    background: linear-gradient(45deg, #e0e0e0, #f5f5f5);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
}

.paper-clip::before {
    content: '';
    position: absolute;
    width: 12px;
    height: 25px;
    border: 1px solid #bbb;
    border-radius: 6px 6px 1px 1px;
    top: 3px;
    left: 2px;
    background: transparent;
}

.sticker {
    position: absolute;
    font-size: 1.5rem;
    animation: stickerBounce 3s ease-in-out infinite;
}

@keyframes stickerBounce {
    0%, 100% { transform: scale(1) rotate(0deg); }
    50% { transform: scale(1.1) rotate(5deg); }
}

.heart-sticker { 
    color: #ff6b9d; 
    top: 15px; 
    left: 15px;
    animation-delay: 0s;
}

.star-sticker { 
    color: #ffc107; 
    bottom: 20px; 
    right: 20px;
    animation-delay: 1s;
}

.flower-sticker { 
    color: #7bed9f; 
    top: 50%; 
    right: 10px;
    animation-delay: 2s;
}

/* Mobile responsive */
@media (max-width: 480px) {
    .scrapbook-cover { width: 250px; height: 330px; }
    .cover-title { font-size: 1.8rem; }
    .title-card { width: 280px; }
    .magazine-title { font-size: 2.2rem; }
    
    .cat-layers { width: 350px !important; height: 280px !important; }
    .cat-layer1, .cat-layer2, .cat-layer3 { width: 150px; height: 120px; }
    .cat-layer { padding: 15px; font-size: 0.9rem; }
    .cat-image { width: 30px !important; height: 30px !important; }
    
    .matcha-collage { width: 380px !important; height: 310px !important; }
    .piece1, .piece2, .piece3, .piece4 { width: 180px; height: 140px; padding: 15px; font-size: 0.9rem; }
    .matcha-image { width: 60px !important; height: 60px !important; }
    
    .capybara-craft { width: 300px; padding: 30px; }
    .love-letter { width: 320px; padding: 35px 25px; }
    .scene { padding: 15px 5px; }
}

@media (max-width: 320px) {
    .cat-layers { width: 260px; height: 230px; }
    .capybara-craft { width: 280px; }
    .matcha-collage { width: 300px; }
    .love-letter { width: 300px; }
}
</style>

<!-- audio elements -->
<audio id="backgroundMusic" loop>
    <source src="assets/audio/background-music.mp3" type="audio/mpeg">
    <source src="assets/audio/background-music.ogg" type="audio/ogg">
</audio>


</head>
<body>

    <!-- Scene 0: Start Screen -->
    <div class="scene start-screen active first-page-paper" id="scene0">
        <div class="scrapbook-cover">
            <div class="cover-title">To The Best Girlfriend in The Universe</div>
            <div class="cover-decoration">
                <div class="heart-sticker-img"></div>
            </div>
            <div class="character-image"></div>
            <div class="paper-texture-overlay"></div>
        </div>
        <div class="tap-cta">Tap to open the scrapbook</div>
    </div>

    <!-- Scene 1: Title Page -->
    <div class="scene watercolor-bg" id="scene1">
        <div class="paper-fold paper-element torn-top title-card">
            <div class="paper-texture-overlay"></div>
            <div class="magazine-title">HAPPY<br>NATIONAL<br>GIRLFRIEND<br>DAY!!! <3</div>
                <div class="subtitle-cutout">Soon to be wife ^</div>
                <div class="washi-tape washi-vertical"></div>
                <div class="sticker heart-sticker">
                    <div class="heart-sticker-img"></div>
                </div>
                <div class="sticker star-sticker">
                    <div class="star-sticker-img"></div>
                </div>
            </div>
        </div>

        <!-- Scene 2: Cat Layers -->
        <div class="scene watercolor-bg" id="scene2">
            <div class="paper-fold paper-element cat-layers">
                <div class="paper-texture-overlay"></div>
                <div class="cat-layer cat-layer1 torn-right" style="--rotation: -3deg;">
                    <div class="cat-art">
                        <div class="cat-image"></div>
                    </div>
                    <div>You're my Gf<br>ofcourse u rant to me</div>
                </div>
                <div class="cat-layer cat-layer2 torn-top" style="--rotation: 2deg;">
                    <div class="cat-art">
                        <div class="cat-image"></div>
                    </div>
                    <div>You're my Gf<br>ofcourse u can talk to me anytime u want</div>
                </div>
                <div class="cat-layer cat-layer3 torn-bottom" style="--rotation: -1deg;">
                    <div class="cat-art">
                        <div class="cat-image"></div>
                    </div>
                    <div>You're my Gf<br>of course we'll get married</div>
                </div>
                <div class="paper-clip"></div>
                <div class="sticker flower-sticker">
                    <div class="heart-sticker-img"></div>
                </div>
            </div>
        </div>

        <!-- Scene 3: Capybara Zen -->
        <div class="scene watercolor-bg" id="scene3">
            <div class="paper-fold paper-element torn-top capybara-craft">
                <div class="paper-texture-overlay"></div>
                <div class="capybara-title">YOU'RE MY GIRLFRIEND</div>
                <div class="zen-message">
                    ofcourse im always proud of u, 
                    ofcourse i wanna know what's going on in ur life
                    <br><br>
                    ofcourse i'll always care about u,
                    ur my gf, ofcourse i love you with true definition of it
                </div>
                <div class="capybara-image"></div>
                <div style="font-size: 1.2rem; margin-top: 10px; color: #5d4e37;">
                    ^ Me as Capybara
                </div>
                <div class="washi-tape washi-horizontal" style="background: linear-gradient(45deg, #7bed9f 25%, #4ecdc4 25%, #4ecdc4 50%, #7bed9f 50%, #7bed9f 75%, #4ecdc4 75%);"></div>
                <div class="sticker heart-sticker" style="top: auto; bottom: 15px; left: auto; right: 15px;">
                    <div class="heart-sticker-img"></div>
                </div>
            </div>
        </div>

        <!-- Scene 4: Matcha Collage -->
        <div class="scene watercolor-bg" id="scene4">
            <div class="paper-fold paper-element matcha-collage">
                <div class="paper-texture-overlay"></div>
                <div class="matcha-piece piece1 torn-right" style="--final-rotation: -5deg;">
                    <div class="matcha-image"></div>
                    <strong>yes, for u, i would</strong><br>
                    Literally
                </div>
                <div class="matcha-piece piece2 torn-right" style="--final-rotation: 3deg;">
                    <div class="matcha-image"></div>
                    <strong>yes, for u, i would</strong><br>
                    Anything
                </div>
                <div class="matcha-piece piece3 torn-right" style="--final-rotation: -2deg;">
                    <div class="matcha-image"></div>
                    <strong>yes, for u, i would</strong><br>
                    Literally A-N-Y-T-H-I-N-G
                </div>
                <div class="matcha-piece piece4 torn-right" style="--final-rotation: 4deg;">
                    <div class="matcha-image"></div>
                    <strong>AND YES</strong><br>
                    For you, I Forever Would
                </div>
                <div class="sticker star-sticker" style="top: 50%; right: auto; left: 10px;">
                    <div class="star-sticker-img"></div>
                </div>
                <div class="washi-tape washi-vertical" style="background: linear-gradient(45deg, #7fb069 25%, #8bc34a 25%, #8bc34a 50%, #7fb069 50%, #7fb069 75%, #8bc34a 75%); left: -5px;"></div>
            </div>
        </div>

        <!-- Scene 5: Love Letter -->
        <div class="scene watercolor-bg" id="scene5">
            <div class="paper-fold paper-element love-letter">
                <div class="paper-texture-overlay" style="opacity: 0.2;"></div>
                <div class="letter-content">
                    Dear GF <- (soon to be wife btw),
                    <br><br>
                    I may not be perfect,
                    but i love you with all my heart.
                    <br><br>
                    My Soulmate, 
                    My Love,
                    My Other Half,
                    <br><br>
                    Did i make u happy? feel safe? feel loved?
                    Did i do a good job this time?
                </div>
                <div class="signature">
                    Sincerely with every part of me, Monke (future husband) 
                    <div class="heart-sticker-img" style="display: inline-block; width: 20px; height: 20px; margin-left: 5px;"></div>
                </div>
                <div class="washi-tape washi-horizontal" style="background: linear-gradient(45deg, #ff6b9d 25%, #c44569 25%, #c44569 50%, #ff6b9d 50%, #ff6b9d 75%, #c44569 75%); bottom: auto; top: 20px; right: 20px; width: 60px;"></div>
                <div class="sticker heart-sticker" style="bottom: 30px; right: 30px;">
                </div>
                <div class="sticker star-sticker" style="top: 15px; left: 15px; bottom: auto; right: auto;">
                    <div class="star-sticker-img"></div>
                </div>
            </div>
        </div>

        <!-- Navigation dots -->
        <div class="nav-dots">
            <div class="dot active" data-scene="0"></div>
            <div class="dot" data-scene="1"></div>
            <div class="dot" data-scene="2"></div>
            <div class="dot" data-scene="3"></div>
            <div class="dot" data-scene="4"></div>
            <div class="dot" data-scene="5"></div>
        </div>


        <!-- Paper crumbs -->
        <div id="crumbContainer"></div>

        <script>
let currentScene = 0;
const totalScenes = 6;

// Load images from organized folders
async function loadImages() {
    try {
        // Background images
        const catPatternUrl = 'assets/background-images/cat-illustration.jpg';
        const paperTextureUrl = 'assets/background-images/paper-texture.jpg';
        const watercolorUrl = 'assets/background-images/watercolour-background.jpg';
        const firstPagePaperUrl = 'assets/background-images/paper-background.jpg';

        // Single element images
        const capybaraUrl = 'assets/single-images/capybara.png';
        const matchaUrl = 'assets/single-images/matcha.png';
        const heartStickerUrl = 'assets/single-images/heart.png';
        const starStickerUrl = 'assets/single-images/star.png';
        const characterUrl = 'assets/single-images/character.png';
        const catUrl = 'assets/single-images/cat.png';

        // Apply images to CSS
        const style = document.createElement('style');
        style.textContent = `
        .cat-pattern-bg {
            background-image: url('${catPatternUrl}') !important;
        }
        .paper-texture-overlay {
            background-image: url('${paperTextureUrl}') !important;
        }
        .watercolor-bg {
            background-image: url('${watercolorUrl}') !important;
        }
        .first-page-paper {
            background-image: url('${firstPagePaperUrl}') !important;
            background-size: cover;
            background-position: center;
        }
        .capybara-image {
            background-image: url('${capybaraUrl}');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            width: 120px;
            height: 120px;
            margin: 15px auto;
        }
        .matcha-image {
            background-image: url('${matchaUrl}');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            width: 60px;
            height: 60px;
            margin: 10px auto;
        }
        .heart-sticker-img {
            background-image: url('${heartStickerUrl}');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            width: 30px;
            height: 30px;
        }
        .star-sticker-img {
            background-image: url('${starStickerUrl}');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            width: 30px;
            height: 30px;
        }
        .character-image {
            background-image: url('${characterUrl}');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            width: 80px;
            height: 80px;
            margin: 20px auto;
        }
        .cat-image {
            background-image: url('${catUrl}');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            width: 60px;
            height: 60px;
            margin: 10px auto;
        }
        `;
        document.head.appendChild(style);
    } catch (error) {
        console.log('Using default styling - place images in assets folders');
    }
}

// Paper fold animation reset function
function resetPaperFoldAnimations(sceneElement) {
    const paperFoldElements = sceneElement.querySelectorAll('.paper-fold');
    paperFoldElements.forEach(element => {
        element.style.animation = 'none';
        element.offsetHeight; // Force reflow
        element.style.animation = 'unfoldPaper 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards';
    });
}

// Main scene navigation function
function nextScene() {
    // Hide current scene
    document.querySelectorAll('.scene').forEach(scene => {
        scene.classList.remove('active');
    });

    // Show next scene
    currentScene = (currentScene + 1) % totalScenes;
    const nextSceneElement = document.getElementById(`scene${currentScene}`);
    nextSceneElement.classList.add('active');

    // Update navigation dots
    document.querySelectorAll('.dot').forEach((dot, index) => {
        dot.classList.toggle('active', index === currentScene);
    });


    // Handle start screen setup when returning to scene 0
    if (currentScene === 0) {
        stopBackgroundMusic();
        return;
    }

    // Reset paper fold animations for all scenes except start screen
    if (currentScene > 0) {
        setTimeout(() => {
            resetPaperFoldAnimations(nextSceneElement);
        }, 100);
    }

    // Handle specific scene animations
    if (currentScene === 2) {
        setTimeout(() => {
            document.querySelectorAll('.cat-layer').forEach((layer, index) => {
                layer.style.animation = 'none';
                layer.offsetHeight;
                layer.style.animation = `layerPop 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards`;
                layer.style.animationDelay = `${1 + index * 0.3}s`;
            });
        }, 200);
    }

    if (currentScene === 4) {
        setTimeout(() => {
            document.querySelectorAll('.matcha-piece').forEach((piece, index) => {
                piece.style.animation = 'none';
                piece.offsetHeight;
                piece.style.animation = `pieceSlide 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards`;
                piece.style.animationDelay = `${1.2 + index * 0.3}s`;
            });
        }, 200);
    }
}

// Start scrapbook function
function startScrapbook() {
    nextScene();
    createPaperCrumbs();
    createConfetti();
    createFlyingCats();
    playBackgroundMusic();
}

// Confetti effect
function createConfetti() {
    const colors = ['#e91e63', '#9c27b0', '#673ab7', '#ff69b4', '#ba68c8'];
    const isMobile = window.innerWidth <= 480;
    const confettiCount = isMobile ? 50 : 150;
    
    for (let i = 0; i < confettiCount; i++) {
        setTimeout(() => {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDelay = Math.random() * 3 + 's';
            document.body.appendChild(confetti);
            
            setTimeout(() => confetti.remove(), 3000);
        }, i * (isMobile ? 200 : 150));
    }
}

// Paper crumbs effect
function createPaperCrumbs() {
    const container = document.getElementById('crumbContainer');

    setInterval(() => {
        if (Math.random() < 0.3) {
            const crumb = document.createElement('div');
            crumb.className = 'paper-crumb';
            crumb.style.left = Math.random() * 100 + '%';
            crumb.style.animationDelay = '0s';
            crumb.style.animationDuration = `${6 + Math.random() * 4}s`;

            const colors = ['#d4a574', '#e8dcc0', '#8B4513', '#f7f1e3'];
            crumb.style.background = colors[Math.floor(Math.random() * colors.length)];

            container.appendChild(crumb);

            setTimeout(() => {
                crumb.remove();
            }, 10000);
        }
    }, 1500);
}

// Flying cats effect
function createFlyingCats() {
    setInterval(() => {
        if (Math.random() < 0.2) {
            const cat = document.createElement('div');
            cat.className = 'flying-cat';
            const flyTop = Math.random() * 60 + 10 + '%';
            cat.style.setProperty('--fly-top', flyTop);
            
            if (Math.random() > 0.5) {
                cat.classList.add('flying-right');
            } else {
                cat.classList.add('flying-left');  
            }
            
            document.body.appendChild(cat);
            
            setTimeout(() => {
                if (cat.parentNode) {
                    cat.remove();
                }
            }, 8000);
        }
    }, 5000);
}

// Initialize when page loads
window.addEventListener('load', loadImages);


document.querySelectorAll('.dot').forEach((dot, index) => {
    function handleDotClick() {
      
        document.querySelectorAll('.scene').forEach(scene => {
            scene.classList.remove('active');
        });
        
        
        currentScene = index;
        
    
        const targetScene = document.getElementById(`scene${currentScene}`);
        targetScene.classList.add('active');
        
        
        document.querySelectorAll('.dot').forEach((d, i) => {
            d.classList.toggle('active', i === currentScene);
        });
        
       
        if (currentScene > 0) {
            setTimeout(() => {
                resetPaperFoldAnimations(targetScene);
            }, 100);
        }
        
   
        if (currentScene === 2) {
            setTimeout(() => {
                document.querySelectorAll('.cat-layer').forEach((layer, layerIndex) => {
                    layer.style.animation = 'none';
                    layer.offsetHeight;
                    layer.style.animation = `layerPop 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards`;
                    layer.style.animationDelay = `${1 + layerIndex * 0.3}s`;
                });
            }, 200);
        }
        
        if (currentScene === 4) {
            setTimeout(() => {
                document.querySelectorAll('.matcha-piece').forEach((piece, pieceIndex) => {
                    piece.style.animation = 'none';
                    piece.offsetHeight;
                    piece.style.animation = `pieceSlide 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards`;
                    piece.style.animationDelay = `${1.2 + pieceIndex * 0.3}s`;
                });
            }, 200);
        }
    }
    
    dot.addEventListener('click', handleDotClick);
    dot.addEventListener('touchstart', (e) => {
        e.preventDefault();
        handleDotClick();
    });
});

// Detect if device supports touch
let isTouchDevice = false;

// Touch support variables
let startY = 0;
let startX = 0;

document.addEventListener('touchstart', (e) => {
    isTouchDevice = true; // Mark as touch device
    startY = e.touches[0].clientY;
    startX = e.touches[0].clientX;
});

document.addEventListener('touchend', (e) => {
    // Handle start screen
    if (currentScene === 0 && !e.target.classList.contains('dot')) {
        e.preventDefault();
        startScrapbook();
        return;
    }
    
    // Skip if touching dots (they have their own handlers)
    if (e.target.classList.contains('dot')) {
        return;
    }
    
    // Handle regular scene advancement
    if (currentScene > 0) {
        const endY = e.changedTouches[0].clientY;
        const endX = e.changedTouches[0].clientX;
        const diffY = startY - endY;
        const diffX = startX - endX;

        // Swipe up OR simple tap to advance
        if ((Math.abs(diffY) > Math.abs(diffX) && diffY > 30) || (Math.abs(diffY) < 10 && Math.abs(diffX) < 10)) {
            nextScene();
        }
    }
});

// Click handler - only for non-touch devices
document.addEventListener('click', (e) => {
    // Don't handle clicks on touch devices to prevent double firing
    if (isTouchDevice) {
        return;
    }
    
    // Handle start screen
    if (currentScene === 0 && !e.target.classList.contains('dot')) {
        startScrapbook();
        return;
    }
    
    // Skip if clicking dots
    if (e.target.classList.contains('dot')) {
        return;
    }
    
    // Advance scenes
    if (currentScene > 0) {
        nextScene();
    }
});


// Background music management
const backgroundMusic = document.getElementById('backgroundMusic');

function playBackgroundMusic() {
    backgroundMusic.volume = 0.3; // 30% volume
    backgroundMusic.play().catch(e => console.log('Auto-play prevented'));
}

function stopBackgroundMusic() {
    backgroundMusic.pause();
    backgroundMusic.currentTime = 0;
}
</script>
</body>
</html>